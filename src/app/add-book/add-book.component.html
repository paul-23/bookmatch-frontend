<div class="site-wrap d-md-flex justify-content-center">
  <div class="form-wrap">
    <div class="form-inner">
      <h1 class="title">Add a Book</h1>
      <p class="caption mb-4">Share your book with the other members.</p>

      <form (ngSubmit)="createBook()" class="pt-3" name="formBook" enctype="multipart/form-data">
        <div class="form-floating">
          <input type="text" id="input_title" class="form-control" id="exampleInputEmail1"
          aria-describedby="emailHelp" placeholder="Enter Title" [(ngModel)]="newBook.title" name="titlename">
          <label for="input_title">Title</label>
        </div>

        <div class="form-floating">
          <input type="text" id="input_author" class="form-control" id="exampleInputPassword1"
          placeholder="Enter Author" [(ngModel)]="newBook.author" name="authorname">
          <label for="input_author">Author</label>
        </div>

        <div class="form-floating">
          <input type="text" id="input_ISBN" class="form-control" id="input_ISBN"
          placeholder="Enter ISBN" [(ngModel)]="newBook.isbn" name="isbnname">
          <label for="input_ISBN">ISBN</label>
        </div>

        <div class="form-floating">
          <input type="text" id="input_category" class="form-control" id="input_category"
          placeholder="Enter Category" [(ngModel)]="newBook.category" name="categoryname">
          <label for="input_category">Category</label>
        </div>

        <div class="form-floating profile-image">
          <label for="formFileSm" class="form-label" name="imagename">
            Book cover image <span>(If blank, added based on the ISBN)</span></label>

          <input (change)="onFileSelected($event)" name="image" class="form-control form-control-sm"
          id="formFileSm" type="file">
        </div>

        <div class="row">
          <div class="col-12 col-md-6 col-lg-7 align-middle pb-3">
            <input style="height: 60px;" name="editorialname" class="form-control" list="datalistOptions" id="inputOptions" placeholder="Type to search..."
            [(ngModel)]="editorial" >
            <datalist id="datalistOptions">
                <option id="editorial_valor" *ngFor="let editorial of editorials; let i = index" value = "{{editorial.name_editorial}}"></option>
            </datalist>
          </div>
          <div class="col-12 col-md-6 col-lg-5">
            <button type="button" class="btn btn-primary new-editorial" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@getbootstrap">Add new Editorial</button>
          </div>
        </div>

        <p *ngIf="bookError" style="color: red;">There are empty fields</p>




        <input name="editorialname" class="form-control" list="datalistOptions" id="inputOptions" placeholder="Type to search..."
        [(ngModel)]="newBook.editorial" >
        <datalist id="datalistOptions">
            <option id="editorial_valor" *ngFor="let editorial of editorials; let i = index" value = "{{editorial.name_editorial}}"></option>
        </datalist>



        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@getbootstrap">Add new Editorial</button>

        <form (ngSubmit)="createBook()" enctype="multipart/form-data">
          <div class="d-grid mb-4">
            <button type="submit" class="btn btn-primary">
              Add book
            </button>
          </div>
        </form>

      </form>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">New editorial</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="createEditorial()">
          <div class="mb-3">
            <label for="message-text" class="col-form-label">Name:</label>

            <input class="form-control" id="edit" [(ngModel)]="edit" name="first">
          </div>
          <p *ngIf="editorialError" style="color: red;">Empty field, or the editorial already exists</p>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="create" type="submit">Create Editorial</button>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>


<div class="toast">
  <div class="toast-header">
    <strong class="me-auto">Toast Header</strong>
    <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
  </div>
  <div class="toast-body">
    <p>Some text inside the toast body</p>
  </div>
</div>
