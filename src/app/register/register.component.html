<div *ngIf="!userLogged" class="site-wrap d-md-flex justify-content-center registerview">
  <div
    class="bg-img"
    style="background-image: url('https://media.istockphoto.com/id/175397396/photo/books-pattern.jpg?s=170667a&w=0&k=20&c=hNKnh4PMFOWUQbbr59XGcvoZPkMfq6JR18_57IcVp5Y=')"
  ></div>
  <div class="form-wrap">
    <div class="form-inner">
      <h1 class="title">Sign up</h1>
      <p class="caption mb-4">Create your account in seconds.</p>

      <form action="#" class="pt-3">
        <div class="form-floating">
          <input
            type="text"
            name="name"
            class="form-control"
            id="name"
            placeholder="Full Name"
            [(ngModel)]="fullName"
          />
          <label for="name">Full Name</label>
        </div>

        <div class="form-floating">
          <input
            type="email"
            name="email"
            class="form-control"
            id="email"
            placeholder="info@example.com"
            [(ngModel)]="email"
          />
          <label for="email">Email Address</label>
        </div>

        <div class="form-floating">
          <input
            #passwordInput
            type="password"
            name="password"
            class="form-control"
            id="password"
            placeholder="Password"
            [(ngModel)]="password"
          />
          <label for="password">Password</label>
          <i class="password-icon" [class]="showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'" (click)="togglePasswordVisibility(passwordInput)"></i>
        </div>

        <div class="form-floating">
          <input
            #repeatPasswordInput
            type="password"
            name="repeatPassword"
            class="form-control"
            id="repeatPassword"
            placeholder="Repeat password"
            [(ngModel)]="passwordAgain"
          />
          <label for="repeatPassword">Repeat password</label>
          <i class="password-icon" [class]="showRepeatPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'" (click)="toggleRepeatPasswordVisibility(repeatPasswordInput)"></i>
        </div>

        <div class="d-flex justify-content-between" *ngIf="!passwordMatch">
          <p class="something-wrong"> PASSWORD MISMATCH </p>
        </div>

        <div class="form-floating profile-image">
          <label for="formFileSm" class="form-label">Profile image <span>(Optional)</span></label>
          <input name="profileimage" (change)="onFileChange($event)" type="file" [(ngModel)]="profile_image" class="form-control form-control-sm" id="formFileSm" type="file">

        </div>

        <div class="d-flex justify-content-between">
          <div class="form-check">
            <input type="checkbox" name="checkbox" class="form-check-input" id="remember" [(ngModel)]="checkBox" />
            <label for="remember" class="form-check-label"
              >I agree to the <a [routerLink]="['/terms-of-service']">Terms of Service</a> and
              <a [routerLink]="['/privacy-policy']">Privacy Policy</a></label
            >
          </div>
        </div>

        <div class="d-flex justify-content-between" *ngIf="!isChecked">
          <p class="something-wrong"> YOU MUST ACCEPT TERMS OF SERVICE</p>
        </div>

        <div class="d-grid mb-4">
          <button type="submit" class="btn btn-primary" (click)="register()">
            Create an account
          </button>
        </div>

        <div class="mb-2">
          Already a member? <a routerLink="/login">Log in</a>
        </div>

      </form>
    </div>
  </div>
</div>

<div class="userNotLogged" *ngIf="userLogged">
  <h1> You're already logged </h1>
  <div class="buttonsUserNotLogged">
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#LogoutConfirmation">Logout</button>
    <button class="btn btn-primary" routerLink="/home">Home</button>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="LogoutConfirmation" tabindex="-1" aria-labelledby="LogoutConfirmationLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="LogoutConfirmationLabel">Logout</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to log out?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="logout()">Logout</button>
      </div>
    </div>
  </div>
</div>
